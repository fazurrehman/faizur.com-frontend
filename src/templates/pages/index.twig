{% extends "../layouts/layout.twig" %}
{% set pageTitle = "Faizur Rehman - Creative Designer & Content Creator" %}
{% set pageClass = "homepage menu--dark" %}
{% block content %}

    {% include "../components/sections/homehero.twig" %}
    {% include "../components/sections/projects-home.twig" %}
    {% include "../components/sections/services.twig" %}
    {% include "../components/sections/testimonials.twig" %}
    {% include "../components/sections/creation.twig" %}


{% endblock %}
{% block included_scripts %}
    <script src="js/home/bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js" integrity="sha512-CPA5LMoJI/a5HkSIAKcBtFXe4gqGjPUL2ExF/3PmhrrHI17wod9xOqqF+0WZQRKIIq0KwF8oG5BaiWobtrke3A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        $(window).on("scroll", function () {
            if ($(window).scrollTop() > 600) {
                $(".menu-btn__text").css("color", "#000");
                $(".menu-btn__toggle span").css("background-color", "#000");
            } else {
                //remove the background property so it comes transparent again (defined in your css)
                $(".menu-btn__text").css("color", "#fff");
                $(".menu-btn__toggle span").css("background-color", "#fff");
            }
        });
    </script>
    <script>
            const boxes = gsap.utils.toArray('.work-preview');
            // Set things up
            gsap.set(boxes, {autoAlpha: 0, y: 100});
            boxes.forEach((box, i) => {
              // Set up your animation
              const anim = gsap.to(box, {duration: 0.3, autoAlpha: 1, y: 0, paused: true, delay: 0.1});
              // Use callbacks to control the state of the animation
              ScrollTrigger.create({
                trigger: box,
                end: "bottom bottom",
                once: true,
                onEnter: self => {
                  // If it's scrolled past, set the state
                  // If it's scrolled to, play it
                  self.progress === 1 ? anim.progress(1) : anim.play()
                }
              });
            });
        </script>
{% endblock %}